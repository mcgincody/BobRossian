<!DOCTYPE HTML>
<html>
    <head> 
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    </head>
    <body>
            <canvas id="Rossian"></canvas>
            <script type="text/javascript">
                $(document).ready(function(){
                        var canvas = document.getElementById("Rossian");
                        var pointer = canvas.getContext("2d");
                        pointer.canvas.width = window.innerWidth;
                        pointer.canvas.height = window.innerHeight;
                        var size = window.innerWidth/2;
                        var quantity = Math.round(Math.random()*100)+10;
                        var degrees = 720/quantity;
                        var colors = ["#ff6666", "#ff8c66", "#ffb366", "#ffd966", "#ffff66", "#d9ff66", "#b3ff66", "#8cff66",
                                 "#66ff66", "#66ff8c", "#66ffb3", "#66ffd9", "#66ffff", "#66d9ff", "#66b3ff", "#668cff", "#6666ff", 
                                 "#8c66ff", "#b366ff", "#d966ff", "#ff66ff", "#ff66d9", "#ff66b3", "#ff668c"];
                        pointer.fillStyle = "black";
                        pointer.beginPath();
                        pointer.rect(0, 0, window.innerWidth, window.innerHeight);
                        pointer.fill();
                        for (b = 0; b < quantity; b++){
                                //shapeOfShapes(pointer, window.innerWidth*2/3, window.innerHeight*2/3, (size-(size/quantity)*b)/2, 5, 5, 3, (quantity - b)%15, -degrees*b, colors);
                                shapeOfShapes(pointer, window.innerWidth/2, window.innerHeight/2, (size-(size/quantity)*b), 
                                Math.round(Math.random()*6)+3, 10, Math.round(Math.random()*6)+3, 16, degrees*b+Math.round(Math.random()*360), colors);
                        }
                        
                                       
                });

                function equalFill(pointer, centerX, centerY, length, nSides, rotation){
                        var x1 = centerX + Math.round(length*Math.sin(rotation*Math.PI/180));
                        var y1 = centerY - length + (length - Math.round(length*Math.cos(rotation*Math.PI/180)));
                        pointer.moveTo(x1,y1);
                        var degrees = 360 / nSides;
                        pointer.beginPath();
                        for (j = 1; j <= nSides; j++){
                                x1 = centerX + Math.round(length*Math.sin((rotation+degrees*j)*Math.PI/180));
                                y1 = centerY - length + (length - Math.round(length*Math.cos((rotation+degrees*j)*Math.PI/180)));
                                pointer.lineTo(x1,y1);
                        }
                        pointer.fill();
                }
                
                function centerLine(pointer, x1, y1 ,x2, y2, sLength, sNSides, quantity, colors){
                        changeInX = (x2-x1)/quantity;
                        changeInY = (y2-y1)/quantity;
                        rotation = 360/quantity;
                        for (i = 0; i < quantity; i++){
                                pointer.fillStyle = colors[(i) % colors.length];
                                console.log(rotation);
                                equalFill(pointer, x1+changeInX*i, y1+changeInY*i, sLength, sNSides, rotation*i);
                        }
                }

                function shapeOfShapes(pointer, centerX, centerY, length, nSides, sLength, sNSides, quantity, rotation, colors){
                        var x1 = centerX + Math.round(length*Math.sin(rotation*Math.PI/180));
                        var y1 = centerY - length + (length - Math.round(length*Math.cos(rotation*Math.PI/180)));
                        pointer.moveTo(x1,y1);
                        var x2,y2;
                        var degrees = 360 / nSides;
                        pointer.beginPath();
                        for (k = 1; k <= nSides; k++){
                                x2 = centerX + Math.round(length*Math.sin((rotation+degrees*k)*Math.PI/180));
                                y2 = centerY - length + (length - Math.round(length*Math.cos((rotation+degrees*k)*Math.PI/180)));
                                centerLine(pointer, x1, y1, x2, y2, sLength, sNSides, quantity, colors);
                                x1 = x2;
                                y1 = y2;
                        }
                }
            </script>
    </body>
</html>